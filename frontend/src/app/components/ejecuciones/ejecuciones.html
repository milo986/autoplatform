<div class="d-flex justify-content-between align-items-center mb-7">
    <mat-card-title>
        <h1 class="fw-bold fs-2hx text-gray-900 mb-2">Ejecuciones</h1>
        <h6 class="text-body">Historial y estado de las ejecuciones de workflows</h6>
    </mat-card-title>
</div>

<mat-card class="chat-sidebar-card mb-25 border-radius d-block bg-white border-0 shadow-none"
    [class.component-rtl-enabled]="themeService.isRTLEnabled()" [class.component-dark-theme]="themeService.isDark()">
    <mat-card-content>
        <mat-tab-group animationDuration="0ms">
            <mat-tab label="Todas">
                <mat-card class="dt-to-do-list-card mb-25 border-radius d-block bg-white border-0 shadow-none"
                    [class.component-rtl-enabled]="themeService.isRTLEnabled()">
                    <mat-card-content>

                        <div class="table-style-two">
                            <div class="table-responsive">
                                <table mat-table [dataSource]="dataSource">

                                    <!-- ID Column -->
                                    <ng-container matColumnDef="workflow">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Workflow
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.workflow}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="estado">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Estado
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            @if (element.estado.completado) {
                                            <span class="trezo-badge inProgress">
                                                Completado
                                            </span>
                                            }
                                            @if (element.estado.ejecutando) {
                                            <span class="trezo-badge">
                                                Ejecutando
                                            </span>
                                            }
                                            @if (element.estado.fallo) {
                                            <span class="trezo-badge cancelled">
                                                Falló
                                            </span>
                                            }
                                            @if (element.estado.cancelado) {
                                            <span class="trezo-badge pending">
                                                Cancelled
                                            </span>
                                            }
                                        </td>
                                    </ng-container>

                                    <!-- Assigned To Column -->
                                    <ng-container matColumnDef="inicio">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Inicio
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            {{element.inicio}}
                                        </td>
                                    </ng-container>

                                    <!-- Due Date Column -->
                                    <ng-container matColumnDef="duracion">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Duración
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.duracion }}
                                        </td>
                                    </ng-container>

                                    <!-- Priority Column -->
                                    <ng-container matColumnDef="registros">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Registros
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.registros}}
                                        </td>
                                    </ng-container>
                                    <ng-container matColumnDef="usuario">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Usuario
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.usuario}}
                                        </td>
                                    </ng-container>

                                    <!-- Status Column -->


                                    <!-- Action Column -->
                                    <ng-container matColumnDef="action">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Action
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            <div class="action-buttons d-flex align-items-center">
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.view}}
                                                    </i>
                                                </button>
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.edit}}
                                                    </i>
                                                </button>
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.delete}}
                                                    </i>
                                                </button>
                                            </div>
                                        </td>
                                    </ng-container>

                                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                                    <!-- Row shown when there is no matching data. -->
                                    <!-- <tr class="mat-row" *matNoDataRow>
                                        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"
                                        </td>
                                    </tr> -->

                                </table>
                            </div>
                            <div class="text-end">
                                <button class="add-new-task-btn" type="button" mat-button (click)="toggleClass()">
                                    <i class="material-symbols-outlined">
                                        add
                                    </i>
                                    Add New Task
                                </button>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </mat-tab>
            <mat-tab label="Completadas">
                <mat-card class="dt-to-do-list-card mb-25 border-radius d-block bg-white border-0 shadow-none"
                    [class.component-rtl-enabled]="themeService.isRTLEnabled()">
                    <mat-card-content>
                        <div class="table-style-two">
                            <div class="table-responsive">
                                <table mat-table [dataSource]="dataSource">

                                    <!-- ID Column -->
                                    <ng-container matColumnDef="workflow">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Workflow
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.workflow}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="estado">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Estado
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            @if (element.estado.completado) {
                                            <span class="trezo-badge inProgress">
                                                Completado
                                            </span>
                                            }
                                            @if (element.estado.ejecutando) {
                                            <span class="trezo-badge">
                                                Ejecutando
                                            </span>
                                            }
                                            @if (element.estado.fallo) {
                                            <span class="trezo-badge cancelled">
                                                Falló
                                            </span>
                                            }
                                            @if (element.estado.cancelado) {
                                            <span class="trezo-badge pending">
                                                Cancelled
                                            </span>
                                            }
                                        </td>
                                    </ng-container>

                                    <!-- Assigned To Column -->
                                    <ng-container matColumnDef="inicio">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Inicio
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            {{element.inicio}}
                                        </td>
                                    </ng-container>

                                    <!-- Due Date Column -->
                                    <ng-container matColumnDef="duracion">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Duración
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.duracion }}
                                        </td>
                                    </ng-container>

                                    <!-- Priority Column -->
                                    <ng-container matColumnDef="registros">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Registros
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.registros}}
                                        </td>
                                    </ng-container>
                                    <ng-container matColumnDef="usuario">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Usuario
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.usuario}}
                                        </td>
                                    </ng-container>

                                    <!-- Status Column -->


                                    <!-- Action Column -->
                                    <ng-container matColumnDef="action">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Action
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            <div class="action-buttons d-flex align-items-center">
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.view}}
                                                    </i>
                                                </button>
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.edit}}
                                                    </i>
                                                </button>
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.delete}}
                                                    </i>
                                                </button>
                                            </div>
                                        </td>
                                    </ng-container>

                                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                                    <!-- Row shown when there is no matching data. -->
                                    <!-- <tr class="mat-row" *matNoDataRow>
                                        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"
                                        </td>
                                    </tr> -->

                                </table>
                            </div>
                            <div class="text-end">
                                <button class="add-new-task-btn" type="button" mat-button (click)="toggleClass()">
                                    <i class="material-symbols-outlined">
                                        add
                                    </i>
                                    Add New Task
                                </button>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </mat-tab>
            <mat-tab label="Ejecutando">
                <mat-card class="dt-to-do-list-card mb-25 border-radius d-block bg-white border-0 shadow-none"
                    [class.component-rtl-enabled]="themeService.isRTLEnabled()">
                    <mat-card-content>
                        <div class="table-style-two">
                            <div class="table-responsive">
                                <table mat-table [dataSource]="dataSource">

                                    <!-- ID Column -->
                                    <ng-container matColumnDef="workflow">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Workflow
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.workflow}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="estado">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Estado
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            @if (element.estado.completado) {
                                            <span class="trezo-badge inProgress">
                                                Completado
                                            </span>
                                            }
                                            @if (element.estado.ejecutando) {
                                            <span class="trezo-badge">
                                                Ejecutando
                                            </span>
                                            }
                                            @if (element.estado.fallo) {
                                            <span class="trezo-badge cancelled">
                                                Falló
                                            </span>
                                            }
                                            @if (element.estado.cancelado) {
                                            <span class="trezo-badge pending">
                                                Cancelled
                                            </span>
                                            }
                                        </td>
                                    </ng-container>

                                    <!-- Assigned To Column -->
                                    <ng-container matColumnDef="inicio">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Inicio
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            {{element.inicio}}
                                        </td>
                                    </ng-container>

                                    <!-- Due Date Column -->
                                    <ng-container matColumnDef="duracion">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Duración
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.duracion }}
                                        </td>
                                    </ng-container>

                                    <!-- Priority Column -->
                                    <ng-container matColumnDef="registros">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Registros
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.registros}}
                                        </td>
                                    </ng-container>
                                    <ng-container matColumnDef="usuario">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Usuario
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.usuario}}
                                        </td>
                                    </ng-container>

                                    <!-- Status Column -->


                                    <!-- Action Column -->
                                    <ng-container matColumnDef="action">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Action
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            <div class="action-buttons d-flex align-items-center">
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.view}}
                                                    </i>
                                                </button>
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.edit}}
                                                    </i>
                                                </button>
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.delete}}
                                                    </i>
                                                </button>
                                            </div>
                                        </td>
                                    </ng-container>

                                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                                    <!-- Row shown when there is no matching data. -->
                                    <!-- <tr class="mat-row" *matNoDataRow>
                                        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"
                                        </td>
                                    </tr> -->

                                </table>
                            </div>
                            <div class="text-end">
                                <button class="add-new-task-btn" type="button" mat-button (click)="toggleClass()">
                                    <i class="material-symbols-outlined">
                                        add
                                    </i>
                                    Add New Task
                                </button>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </mat-tab>
            <mat-tab label="Fallido">
                <mat-card class="dt-to-do-list-card mb-25 border-radius d-block bg-white border-0 shadow-none"
                    [class.component-rtl-enabled]="themeService.isRTLEnabled()">
                    <mat-card-content>
                        <div class="table-style-two">
                            <div class="table-responsive">
                                <table mat-table [dataSource]="dataSource">

                                    <!-- ID Column -->
                                    <ng-container matColumnDef="workflow">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Workflow
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.workflow}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="estado">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Estado
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            @if (element.estado.completado) {
                                            <span class="trezo-badge inProgress">
                                                Completado
                                            </span>
                                            }
                                            @if (element.estado.ejecutando) {
                                            <span class="trezo-badge">
                                                Ejecutando
                                            </span>
                                            }
                                            @if (element.estado.fallo) {
                                            <span class="trezo-badge cancelled">
                                                Falló
                                            </span>
                                            }
                                            @if (element.estado.cancelado) {
                                            <span class="trezo-badge pending">
                                                Cancelled
                                            </span>
                                            }
                                        </td>
                                    </ng-container>

                                    <!-- Assigned To Column -->
                                    <ng-container matColumnDef="inicio">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Inicio
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            {{element.inicio}}
                                        </td>
                                    </ng-container>

                                    <!-- Due Date Column -->
                                    <ng-container matColumnDef="duracion">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Duración
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.duracion }}
                                        </td>
                                    </ng-container>

                                    <!-- Priority Column -->
                                    <ng-container matColumnDef="registros">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Registros
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.registros}}
                                        </td>
                                    </ng-container>
                                    <ng-container matColumnDef="usuario">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Usuario
                                        </th>
                                        <td mat-cell *matCellDef="let element" class="text-body">
                                            {{element.usuario}}
                                        </td>
                                    </ng-container>

                                    <!-- Status Column -->


                                    <!-- Action Column -->
                                    <ng-container matColumnDef="action">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Action
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            <div class="action-buttons d-flex align-items-center">
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.view}}
                                                    </i>
                                                </button>
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.edit}}
                                                    </i>
                                                </button>
                                                <button type="button" mat-button>
                                                    <i class="material-symbols-outlined">
                                                        {{element.action.delete}}
                                                    </i>
                                                </button>
                                            </div>
                                        </td>
                                    </ng-container>

                                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                                    <!-- Row shown when there is no matching data. -->
                                    <!-- <tr class="mat-row" *matNoDataRow>
                                        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"
                                        </td>
                                    </tr> -->

                                </table>
                            </div>
                            <div class="text-end">
                                <button class="add-new-task-btn" type="button" mat-button (click)="toggleClass()">
                                    <i class="material-symbols-outlined">
                                        add
                                    </i>
                                    Add New Task
                                </button>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </mat-tab>
        </mat-tab-group>
    </mat-card-content>
</mat-card>