<mat-card
  class="top-performers-card mb-25 border-radius d-block bg-white border-0 shadow-none"
  [class.component-rtl-enabled]="themeService.isRTLEnabled()"
>
  <mat-card-header>
    <mat-card-title>
      <h5 class="mb-0">Últimas Ejecuciones</h5>
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <div class="table-responsive">
      <table mat-table [dataSource]="ejecuciones">

        <!-- Proceso Column -->
        <ng-container matColumnDef="proceso">
          <th mat-header-cell *matHeaderCellDef>Proceso</th>
          <td mat-cell *matCellDef="let e">
            <div class="d-flex align-items-center gap-2">
              <span
                class="status-dot"
                [style.backgroundColor]="
                  e.estado === 'Completado'
                    ? '#16a34a'
                    : e.estado === 'Ejecutando'
                    ? '#3b82f6'
                    : e.estado === 'Falló'
                    ? '#dc2626'
                    : '#9ca3af'
                "
              ></span>
              <div class="m-2">
                <h6 class="fw-medium d-block">{{ e.nombre }}</h6>
                <span class="fw-medium">{{ e.hace }}</span>
              </div>
            </div>
          </td>
        </ng-container>

        <!-- Tiempo Column -->
        <ng-container matColumnDef="tiempo">
          <th mat-header-cell *matHeaderCellDef>Duración</th>
          <td mat-cell *matCellDef="let e">
            <div class="text-end">
              <div class="fw-medium<">{{ e.tiempo }}</div>
              <span
                [style.color]="
                  e.estado === 'Completado'
                    ? '#16a34a'
                    : e.estado === 'Ejecutando'
                    ? '#3b82f6'
                    : e.estado === 'Falló'
                    ? '#dc2626'
                    : '#6b7280'
                "
                class="fw-semibold"
              >
                {{ e.estado }}
              </span>
            </div>
          </td>
        </ng-container>

        <!-- Filas -->
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
  </mat-card-content>
</mat-card>
